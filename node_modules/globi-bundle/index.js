var fs = require('fs');
var domify = require('domify');
var inherits = require('inherits');
var EventEmitter = require('events').EventEmitter;

var html = fs.readFileSync(__dirname + '/bundle.html', 'utf8');

inherits(GloBIBundle, EventEmitter);
module.exports = GloBIBundle;

function GloBIBundle (opts) {
    if (!(this instanceof GloBIBundle)) return new GloBIBundle(opts);
    this.opts = opts;
    this.element = domify(html);
}

GloBIBundle.prototype.appendTo = function (target) {
    if (typeof target === 'string') target = document.querySelector(target);
    target.appendChild(this.element);
    this.emit('append', target);
};

